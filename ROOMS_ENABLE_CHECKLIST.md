# ✅ Чеклист включения функции комнат

## Перед включением

- [ ] Прочитал документацию: [HOW_TO_ENABLE_ROOMS.md](./HOW_TO_ENABLE_ROOMS.md)
- [ ] Убедился, что все сервисы работают: `sudo supervisorctl status`
- [ ] Есть доступ к логам для отладки
- [ ] Готов к возможному откату изменений

---

## Процесс включения

### Вариант A: Автоматический (рекомендуется для опытных)

- [ ] Выполнил команду:
  ```bash
  sed -i 's/const SHOW_ROOMS_FEATURE = false;/const SHOW_ROOMS_FEATURE = true;/g' /app/frontend/src/components/TasksSection.jsx && sudo supervisorctl restart frontend
  ```
- [ ] Дождался перезапуска frontend (5-10 секунд)
- [ ] Перешёл к разделу "Проверка работоспособности"

### Вариант B: Ручной (рекомендуется для контроля)

- [ ] Открыл файл: `nano /app/frontend/src/components/TasksSection.jsx`
- [ ] Нашёл строку 21: `const SHOW_ROOMS_FEATURE = false;`
- [ ] Изменил на: `const SHOW_ROOMS_FEATURE = true;`
- [ ] Сохранил файл: `Ctrl+O`, Enter, `Ctrl+X`
- [ ] Проверил компиляцию: `cd /app/frontend && yarn build`
- [ ] Компиляция прошла без ошибок
- [ ] Перезапустил frontend: `sudo supervisorctl restart frontend`
- [ ] Проверил статус: `sudo supervisorctl status` (все RUNNING)

---

## Проверка работоспособности

### Интерфейс

- [ ] Открыл приложение в браузере
- [ ] Перешёл в раздел "Список дел" (вторая кнопка в нижнем меню)
- [ ] Прокрутил вниз до конца страницы
- [ ] **Вижу заголовок "Комнаты"** с синей иконкой Users
- [ ] **Вижу кнопку "Создать комнату"** (серая с пунктирной рамкой)

### Функция создания комнаты

- [ ] Нажал "Создать комнату"
- [ ] Модальное окно открылось
- [ ] Ввёл название: `Тестовая комната`
- [ ] Ввёл описание: `Проверка функциональности`
- [ ] Выбрал цвет (любой)
- [ ] Нажал "Создать комнату"
- [ ] Комната создалась без ошибок
- [ ] Комната появилась в горизонтальном списке

### Функция просмотра комнаты

- [ ] Нажал на карточку созданной комнаты
- [ ] Модальное окно деталей открылось
- [ ] Вижу информацию о комнате (название, описание, цвет)
- [ ] Вижу список участников (минимум я)
- [ ] Вижу кнопку "Пригласить участников"
- [ ] Вижу раздел задач комнаты

### Функция создания задачи в комнате

- [ ] В деталях комнаты нажал "Добавить задачу"
- [ ] Модальное окно создания задачи открылось
- [ ] Ввёл текст задачи: `Тестовая задача`
- [ ] Задал приоритет (опционально)
- [ ] Нажал "Создать задачу"
- [ ] Задача появилась в списке задач комнаты

### Функция генерации ссылки-приглашения

- [ ] В деталях комнаты нажал "Пригласить участников"
- [ ] Ссылка-приглашение сгенерировалась
- [ ] Ссылка имеет формат: `https://t.me/rudn_pro_bot?start=room_...`
- [ ] Могу скопировать ссылку

---

## Проверка на ошибки

### Консоль браузера

- [ ] Открыл DevTools (F12)
- [ ] Перешёл во вкладку Console
- [ ] Нет красных ошибок JavaScript
- [ ] Нет ошибок загрузки компонентов

### Логи сервера

- [ ] Проверил frontend логи: `tail -n 50 /var/log/supervisor/frontend.err.log`
- [ ] Нет критических ошибок
- [ ] Проверил backend логи: `tail -n 50 /var/log/supervisor/backend.err.log`
- [ ] Нет ошибок API запросов к комнатам

### Backend API (опционально)

- [ ] Выполнил тест API:
  ```bash
  curl http://localhost:8001/api/rooms/123456789
  ```
- [ ] Получил JSON ответ (может быть пустой массив `[]`)
- [ ] Нет ошибок 500 или 404

---

## Если что-то пошло не так

### Комнаты не появились

- [ ] Очистил кеш браузера: `Ctrl+Shift+R` (Windows) или `Cmd+Shift+R` (Mac)
- [ ] Проверил, что изменения применились:
  ```bash
  grep "SHOW_ROOMS_FEATURE" /app/frontend/src/components/TasksSection.jsx
  ```
  Должно показать: `const SHOW_ROOMS_FEATURE = true;`
- [ ] Перезапустил frontend ещё раз:
  ```bash
  sudo supervisorctl restart frontend
  ```

### Есть ошибки в консоли

- [ ] Записал текст ошибки
- [ ] Проверил наличие файлов компонентов:
  ```bash
  ls -la /app/frontend/src/components/Room*.jsx
  ls -la /app/frontend/src/services/roomsAPI.js
  ```
- [ ] Все файлы на месте
- [ ] Если файлы отсутствуют → обратился к разработчику

### Backend не отвечает

- [ ] Проверил статус backend: `sudo supervisorctl status backend`
- [ ] Если stopped → перезапустил: `sudo supervisorctl restart backend`
- [ ] Проверил логи backend: `tail -n 100 /var/log/supervisor/backend.err.log`

---

## Откат (если необходимо)

### Быстрый откат

- [ ] Выполнил команду:
  ```bash
  sed -i 's/const SHOW_ROOMS_FEATURE = true;/const SHOW_ROOMS_FEATURE = false;/g' /app/frontend/src/components/TasksSection.jsx && sudo supervisorctl restart frontend
  ```
- [ ] Функция комнат снова скрыта
- [ ] Приложение работает как раньше

---

## Финальная проверка

- [ ] ✅ Функция комнат включена и работает
- [ ] ✅ Могу создавать комнаты
- [ ] ✅ Могу просматривать комнаты
- [ ] ✅ Могу создавать задачи в комнатах
- [ ] ✅ Могу генерировать ссылки-приглашения
- [ ] ✅ Нет критических ошибок
- [ ] ✅ Приложение стабильно работает

---

## Дополнительная информация

- **Полная документация:** [HOW_TO_ENABLE_ROOMS.md](./HOW_TO_ENABLE_ROOMS.md)
- **Описание изменений:** [ROOMS_FEATURE_HIDDEN.md](./ROOMS_FEATURE_HIDDEN.md)
- **Навигация по документам:** [ROOMS_DOCUMENTATION_INDEX.md](./ROOMS_DOCUMENTATION_INDEX.md)

---

**Дата прохождения чеклиста:** _______________  
**Результат:** [ ] Успешно / [ ] Требуется откат  
**Заметки:**

_______________________________________________
_______________________________________________
_______________________________________________
