# AI CONTEXT - RUDN Schedule Telegram Web App

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2025-07-16 | **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –ê–ö–¢–£–ê–õ–ò–ó–ò–†–û–í–ê–ù

---

## üéØ –ú–ï–¢–ê-–ò–ù–§–û–†–ú–ê–¶–ò–Ø

**–¢–∏–ø:** Telegram Web App –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –†–£–î–ù  
**–°—Ç–µ–∫:** FastAPI (Python) + React 19 + MongoDB + Telegram Bot API  
**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API –†–£–î–ù)
- ‚úÖ –ó–∞–¥–∞—á–∏ (–ª–∏—á–Ω—ã–µ + –≥—Ä—É–ø–ø–æ–≤—ã–µ –≤ –∫–æ–º–Ω–∞—Ç–∞—Ö)
- üéØ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Å–æ–±—ã—Ç–∏–π (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º)
- üìì –ñ—É—Ä–Ω–∞–ª –ø–æ—Å–µ—â–µ–Ω–∏–π (–¥–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π)
- üéµ VK Music –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (—Å—Ç—Ä–∏–º–∏–Ω–≥, –ø–ª–µ–π–ª–∏—Å—Ç—ã, –∫–æ–º–Ω–∞—Ç—ã –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è)
- üë• –î—Ä—É–∑—å—è (—Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å QR-–∫–æ–¥–∞–º–∏)
- üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è (24 –∞—á–∏–≤–∫–∏ + –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è)
- üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- üå§ –ü–æ–≥–æ–¥–∞
- üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è V2 (¬±10 —Å–µ–∫ —Ç–æ—á–Ω–æ—Å—Ç—å)
- üéì –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –†–£–î–ù (–õ–ö)
- üîó –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (3 —É—Ä–æ–≤–Ω—è)
- üì± Web Sessions (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ QR)
- üîí –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –ø—Ä–æ—Ñ–∏–ª—è

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ü–†–û–ï–ö–¢–ê

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| Backend Python —Ñ–∞–π–ª–æ–≤ | **24** |
| Backend LOC | **~25,000** |
| Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ | **105** (72 –æ—Å–Ω–æ–≤–Ω—ã—Ö + 15 journal + 12 music + 6 other) |
| API endpoints | **200** |
| MongoDB –∫–æ–ª–ª–µ–∫—Ü–∏–π | **33** |
| –î–æ—Å—Ç–∏–∂–µ–Ω–∏–π | 24 |
| –Ø–∑—ã–∫–æ–≤ (i18n) | 2 (RU/EN) |
| Services (API –∫–ª–∏–µ–Ω—Ç—ã) | **10** |
| Utils | 8 |
| Contexts | 2 (Telegram, Theme) + PlayerContext |

---

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

```
/app/
‚îú‚îÄ‚îÄ backend/                    # FastAPI backend (25,000 LOC)
‚îÇ   ‚îú‚îÄ‚îÄ server.py              # –ì–ª–∞–≤–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (12,753 LOC, 200 endpoints)
‚îÇ   ‚îú‚îÄ‚îÄ models.py              # Pydantic —Å—Ö–µ–º—ã (2,262 LOC)
‚îÇ   ‚îú‚îÄ‚îÄ telegram_bot.py        # Telegram Bot (1,347 LOC)
‚îÇ   ‚îú‚îÄ‚îÄ scheduler_v2.py        # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è V2 (828 LOC)
‚îÇ   ‚îú‚îÄ‚îÄ achievements.py        # –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è (770 LOC)
‚îÇ   ‚îú‚îÄ‚îÄ lk_parser.py           # –ü–∞—Ä—Å–µ—Ä –õ–ö –†–£–î–ù (380 LOC)
‚îÇ   ‚îú‚îÄ‚îÄ scheduler.py           # –°—Ç–∞—Ä—ã–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ (383 LOC)
‚îÇ   ‚îú‚îÄ‚îÄ vk_auth_service.py     # VK –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (350 LOC)
‚îÇ   ‚îú‚îÄ‚îÄ music_service.py       # VK Music —Å–µ—Ä–≤–∏—Å (333 LOC)
‚îÇ   ‚îú‚îÄ‚îÄ rudn_parser.py         # –ü–∞—Ä—Å–µ—Ä API –†–£–î–ù (311 LOC)
‚îÇ   ‚îú‚îÄ‚îÄ cover_service.py       # –û–±–ª–æ–∂–∫–∏ —Ç—Ä–µ–∫–æ–≤ (270 LOC)
‚îÇ   ‚îú‚îÄ‚îÄ notifications.py       # Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (194 LOC)
‚îÇ   ‚îú‚îÄ‚îÄ weather.py             # OpenWeatherMap API
‚îÇ   ‚îú‚îÄ‚îÄ config.py              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ENV
‚îÇ   ‚îú‚îÄ‚îÄ cache.py               # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt       # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ
‚îú‚îÄ‚îÄ frontend/                   # React 19 frontend (~46,000 LOC)
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ App.jsx            # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (1,610 LOC)
‚îÇ       ‚îú‚îÄ‚îÄ components/        # 72 –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ TasksSection.jsx      # (2,464 LOC) - –ó–∞–¥–∞—á–∏
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ ProfileModal.jsx      # (1,542 LOC) - –ü—Ä–æ—Ñ–∏–ª—å
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ AdminPanel.jsx        # (974 LOC) - –ê–¥–º–∏–Ω–∫–∞
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ journal/              # 15 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∂—É—Ä–Ω–∞–ª–∞
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ music/                # 12 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –º—É–∑—ã–∫–∏
‚îÇ       ‚îú‚îÄ‚îÄ services/          # 10 API –∫–ª–∏–µ–Ω—Ç–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ contexts/          # 2 React –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
‚îÇ       ‚îú‚îÄ‚îÄ utils/             # 8 —É—Ç–∏–ª–∏—Ç
‚îÇ       ‚îú‚îÄ‚îÄ hooks/             # –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏
‚îÇ       ‚îî‚îÄ‚îÄ i18n/locales/      # ru.json, en.json
‚îÇ
‚îú‚îÄ‚îÄ AI_CONTEXT.md              # –≠–¢–û –§–ê–ô–õ - –±—ã—Å—Ç—Ä—ã–π –æ–±–∑–æ—Ä –¥–ª—è –ò–ò
‚îú‚îÄ‚îÄ PROJECT_DETAILS.md         # –ü–æ–ª–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ README.md                  # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É
‚îî‚îÄ‚îÄ *.md                       # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## üîå API ENDPOINTS (200 –≤—Å–µ–≥–æ)

### –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –º–æ–¥—É–ª—è–º:

| –ú–æ–¥—É–ª—å | Endpoints | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|-----------|----------|
| –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –†–£–î–ù | 6 | –§–∞–∫—É–ª—å—Ç–µ—Ç—ã, —Ñ–∏–ª—å—Ç—Ä—ã, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ |
| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ | 15 | –ù–∞—Å—Ç—Ä–æ–π–∫–∏, —Ç–µ–º–∞, –∏—Å—Ç–æ—Ä–∏—è |
| –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ | 5 | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è, —Å–æ–±—ã—Ç–∏—è |
| –õ–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏ | 9 | CRUD, –ø–æ–¥–∑–∞–¥–∞—á–∏, –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å |
| –ö–æ–º–Ω–∞—Ç—ã | 14 | CRUD, –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å |
| –ì—Ä—É–ø–ø–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ | 16 | CRUD, –ø–æ–¥–∑–∞–¥–∞—á–∏, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ |
| –ñ—É—Ä–Ω–∞–ª –ø–æ—Å–µ—â–µ–Ω–∏–π | **26** | –ñ—É—Ä–Ω–∞–ª—ã, —Å—Ç—É–¥–µ–Ω—Ç—ã, –ø—Ä–µ–¥–º–µ—Ç—ã, –∑–∞–Ω—è—Ç–∏—è |
| VK Music | **25** | –ü–æ–∏—Å–∫, —Å—Ç—Ä–∏–º, –ø–ª–µ–π–ª–∏—Å—Ç—ã, –∫–æ–º–Ω–∞—Ç—ã |
| –î—Ä—É–∑—å—è | 15 | –ó–∞–ø—Ä–æ—Å—ã, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, –ø–æ–∏—Å–∫ |
| In-App —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | 8 | CRUD, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |
| –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è | 5 | –°–ø–∏—Å–æ–∫, —Ç—Ä–µ–∫–∏–Ω–≥ |
| –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ | 4 | –ö–æ–¥—ã, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –¥–µ—Ä–µ–≤–æ |
| –õ–ö –†–£–î–ù | 4 | –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ, –¥–∞–Ω–Ω—ã–µ |
| –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å | **14** | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, **–æ–Ω–ª–∞–π–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** |
| Web Sessions | **11** | QR-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ |
| –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å | 2 | GET/PUT –Ω–∞—Å—Ç—Ä–æ–µ–∫ |
| –ë—ç–∫–∞–ø—ã | 3 | –≠–∫—Å–ø–æ—Ä—Ç –ë–î |
| –ü—Ä–æ—á–µ–µ | 5 | –ü–æ–≥–æ–¥–∞, YouTube, VK Video |

### –ö–ª—é—á–µ–≤—ã–µ endpoint'—ã:

```python
# –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ
GET  /api/faculties              # –°–ø–∏—Å–æ–∫ —Ñ–∞–∫—É–ª—å—Ç–µ—Ç–æ–≤
POST /api/filter-data            # –§–∏–ª—å—Ç—Ä—ã (–∫—É—Ä—Å, –≥—Ä—É–ø–ø–∞)
POST /api/schedule               # –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã

# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
GET  /api/user-settings/{id}     # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —é–∑–µ—Ä–∞
POST /api/user-settings          # –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

# –ó–∞–¥–∞—á–∏
GET  /api/tasks/{id}             # –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
POST /api/tasks                  # –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É

# VK Music
GET  /api/music/search?q=...     # –ü–æ–∏—Å–∫ —Ç—Ä–µ–∫–æ–≤
GET  /api/music/stream/{id}      # –°—Ç—Ä–∏–º —Ç—Ä–µ–∫–∞
POST /api/music/auth/{id}        # VK –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
POST /api/music/rooms            # –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è

# –î—Ä—É–∑—å—è
POST /api/friends/request/{id}   # –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å
GET  /api/friends/{id}           # –°–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π

# Web Sessions (–Ω–æ–≤–æ–µ)
POST /api/web-sessions           # –°–æ–∑–¥–∞—Ç—å —Å–µ—Å—Å–∏—é (QR)
GET  /api/web-sessions/{token}/status  # –°—Ç–∞—Ç—É—Å —Å–µ—Å—Å–∏–∏
POST /api/web-sessions/{token}/link    # –ü—Ä–∏–≤—è–∑–∞—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

# –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å
GET  /api/profile/{id}/privacy   # –ü–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
PUT  /api/profile/{id}/privacy   # –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```

---

## üóÑÔ∏è MONGODB –ö–û–õ–õ–ï–ö–¶–ò–ò (33)

### –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (6):**
- `user_settings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –≥—Ä—É–ø–ø–∞
- `user_stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- `user_achievements` - –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- `user_vk_tokens` - VK —Ç–æ–∫–µ–Ω—ã –¥–ª—è –º—É–∑—ã–∫–∏
- `user_blocks` - –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `web_sessions` - –≤–µ–±-—Å–µ—Å—Å–∏–∏ (QR –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)

**–ó–∞–¥–∞—á–∏ (4):**
- `tasks` - –ª–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏
- `group_tasks` - –≥—Ä—É–ø–ø–æ–≤—ã–µ –∑–∞–¥–∞—á–∏
- `group_task_comments` - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- `group_task_invites` - –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è

**–ö–æ–º–Ω–∞—Ç—ã (3):**
- `rooms` - –∫–æ–º–Ω–∞—Ç—ã (—É—á–∞—Å—Ç–Ω–∏–∫–∏ –≤—Å—Ç—Ä–æ–µ–Ω—ã)
- `room_activities` - –∏—Å—Ç–æ—Ä–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- `listening_rooms` - –∫–æ–º–Ω–∞—Ç—ã –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è –º—É–∑—ã–∫–∏

**–ñ—É—Ä–Ω–∞–ª –ø–æ—Å–µ—â–µ–Ω–∏–π (7):**
- `journals` / `attendance_journals`
- `journal_students`
- `journal_subjects`
- `journal_sessions`
- `attendance_records`
- `journal_pending_members`
- `journal_applications`

**–î—Ä—É–∑—å—è (2):**
- `friends` - —Å–≤—è–∑–∏ –¥—Ä—É–∑–µ–π
- `friend_requests` - –∑–∞–ø—Ä–æ—Å—ã –≤ –¥—Ä—É–∑—å—è

**–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (4):**
- `scheduled_notifications` - V2
- `notification_history`
- `sent_notifications`
- `in_app_notifications`

**–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (2):**
- `referral_connections`
- `referral_events`

**–ö—ç—à –∏ –ø—Ä–æ—á–µ–µ (5):**
- `schedule_cache`
- `cover_cache`
- `music_favorites`
- `status_checks`
- `lk_connections`

---

## ‚ö° –ë–´–°–¢–†–´–ï –ö–û–ú–ê–ù–î–´

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏:
```bash
sudo supervisorctl status              # –°—Ç–∞—Ç—É—Å
sudo supervisorctl restart all         # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö
sudo supervisorctl restart backend     # –¢–æ–ª—å–∫–æ backend
sudo supervisorctl restart frontend    # –¢–æ–ª—å–∫–æ frontend
```

### –õ–æ–≥–∏:
```bash
tail -f /var/log/supervisor/backend.*.log     # Backend –ª–æ–≥–∏
tail -f /var/log/supervisor/frontend.*.log    # Frontend –ª–æ–≥–∏
tail -50 /var/log/supervisor/backend.err.log  # –û—à–∏–±–∫–∏
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
```bash
# Backend
cd /app/backend && pip install PACKAGE && echo "PACKAGE" >> requirements.txt

# Frontend (–¢–û–õ–¨–ö–û yarn!)
cd /app/frontend && yarn add PACKAGE
```

### –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫–æ–¥—É:
```bash
# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ endpoints
grep -c "@api_router\." /app/backend/server.py

# MongoDB –∫–æ–ª–ª–µ–∫—Ü–∏–∏
grep -oP 'db\.\K[a-zA-Z_]+' /app/backend/server.py | sort -u

# –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
ls /app/frontend/src/components/
ls /app/frontend/src/components/journal/
ls /app/frontend/src/components/music/
```

---

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–ê–í–ò–õ–ê

### ‚ùå –ù–ò–ö–û–ì–î–ê:
1. **–ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å npm** - —Ç–æ–ª—å–∫–æ `yarn`!
2. **–ù–ï —Ö–∞—Ä–¥–∫–æ–¥–∏—Ç—å URLs/ports** - —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ .env
3. **–ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å MongoDB ObjectID** - —Ç–æ–ª—å–∫–æ UUID
4. **–ù–ï –∑–∞–±—ã–≤–∞—Ç—å `/api/` –ø—Ä–µ—Ñ–∏–∫—Å** –¥–ª—è backend routes
5. **–ù–ï –∏–∑–º–µ–Ω—è—Ç—å .env —Ñ–∞–π–ª—ã** –±–µ–∑ –∫—Ä–∞–π–Ω–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### ‚úÖ –í–°–ï–ì–î–ê:
1. –ß–∏—Ç–∞—Ç—å `AI_CONTEXT.md` –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã
2. –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ª–æ–≥–∏ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
3. –°–ª–µ–¥–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º –∫–æ–¥–∞
4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Telegram Web App
5. –û–±–Ω–æ–≤–ª—è—Ç—å `requirements.txt` / `package.json`

---

## üîß ENVIRONMENT VARIABLES

### Backend (.env):
```env
MONGO_URL="mongodb://localhost:27017"
DB_NAME="test_database"
CORS_ORIGINS="*"
ENV="test"  # –∏–ª–∏ "production"

TELEGRAM_BOT_TOKEN=...        # –ü—Ä–æ–¥–∞–∫—à–Ω –±–æ—Ç
TEST_TELEGRAM_BOT_TOKEN=...   # –¢–µ—Å—Ç–æ–≤—ã–π –±–æ—Ç

WEATHER_API_KEY=...
VK_SERVICE_TOKEN=...          # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
```

### Frontend (.env):
```env
VITE_ENABLE_VISUAL_EDITS=false
ENABLE_HEALTH_CHECK=false
# REACT_APP_BACKEND_URL –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

### –ü–æ—Ä—Ç—ã:
- **Frontend:** 3000 (internal)
- **Backend:** 8001 (internal)
- **MongoDB:** 27017

---

## üîß –¢–ò–ü–ò–ß–ù–´–ï –ó–ê–î–ê–ß–ò

| –ó–∞–¥–∞—á–∞ | –§–∞–π–ª—ã |
|--------|-------|
| –ù–æ–≤—ã–π API endpoint | `server.py` + `models.py` |
| –ù–æ–≤—ã–π UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç | `/components/NewComponent.jsx` |
| –ù–æ–≤–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ | `achievements.py` (ACHIEVEMENTS dict) |
| –õ–æ–≥–∏–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π | `scheduler_v2.py` + `notifications.py` |
| –ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ | `App.jsx` + –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç |
| –°—Ö–µ–º–∞ –ë–î | `models.py` (Pydantic) |
| –ü–µ—Ä–µ–≤–æ–¥ | `/i18n/locales/ru.json` –∏ `en.json` |
| VK Music | `/components/music/` + `musicAPI.js` |
| –ñ—É—Ä–Ω–∞–ª –ø–æ—Å–µ—â–µ–Ω–∏–π | `/components/journal/` + `journalAPI.js` |
| –î—Ä—É–∑—å—è | `Friend*.jsx` + `friendsAPI.js` |
| Web Sessions | `DevicesModal.jsx` + `webSessionAPI.js` |

---

## üìö –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `PROJECT_DETAILS.md` | –ü–æ–ª–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |
| `NOTIFICATION_SYSTEM_V2.md` | –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π V2 |
| `PLANNER_EVENTS_DOCS.md` | –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Å–æ–±—ã—Ç–∏–π |
| `VK_MUSIC_INTEGRATION_PLAN.md` | VK Music –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è |
| `ROOMS_DOCUMENTATION_INDEX.md` | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–º–Ω–∞—Ç |
| `BACKUP_GUIDE.md` | –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –±—ç–∫–∞–ø–∞–º |
| `MIGRATION_GUIDE_RU.md` | –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î |

---

## üéØ –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï

- **ENV:** `test` (TEST_TELEGRAM_BOT_TOKEN)
- **DB_NAME:** `test_database`
- **Backend:** RUNNING (port 8001)
- **Frontend:** RUNNING (port 3000)
- **MongoDB:** RUNNING (port 27017)

---

**–≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –í–°–Å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ò–ò-–∞–≥–µ–Ω—Ç–∞–º–∏ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–æ–≤.**
